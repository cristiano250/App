<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Progressive Web App - Student's project</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="img/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
		
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
        integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
        crossorigin="" />
		<link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
	<style>
        #map {
            width: 100%;
            height: 500px;
        }
    </style>
	
	<link rel="apple-touch-icon" sizes="57x57" href="img/icons/apple-icon-57x57.png">
	<link rel="apple-touch-icon" sizes="60x60" href="img/icons/apple-icon-60x60.png">
	<link rel="apple-touch-icon" sizes="72x72" href="img/icons/apple-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="76x76" href="img/icons/apple-icon-76x76.png">
	<link rel="apple-touch-icon" sizes="114x114" href="img/icons/apple-icon-114x114.png">
	<link rel="apple-touch-icon" sizes="120x120" href="img/icons/apple-icon-120x120.png">
	<link rel="apple-touch-icon" sizes="144x144" href="img/icons/apple-icon-144x144.png">
	<link rel="apple-touch-icon" sizes="152x152" href="img/icons/apple-icon-152x152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="img/icons/apple-icon-180x180.png">
	<link rel="icon" type="image/png" sizes="192x192"  href="img/icons/android-icon-192x192.png">
	<link rel="icon" type="image/png" sizes="32x32" href="img/icons/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="96x96" href="img/icons/favicon-96x96.png">
	<link rel="icon" type="image/png" sizes="16x16" href="img/icons/favicon-16x16.png">
	<link rel="manifest" href="img/icons/manifest.json">
	<meta name="msapplication-TileColor" content="#ffffff">
	<meta name="msapplication-TileImage" content="img/icons/ms-icon-144x144.png">
	<meta name="theme-color" content="#ffffff">
	
    </head>
	
    <body id="page-top">
    
    <!-- Navigation-->
        <nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id="mainNav">
            <div class="container">
                <a class="navbar-brand" href="#page-top">PWA</a>
                <button class="navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="#Geolocation">Geolocation</a></li>
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="#S-O-S">S-O-S </a></li>
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="#About">About</a></li>
                    </ul>
                </div>
            </div>
        </nav>
		
        <!-- Masthead-->
        <header class="masthead bg-primary text-white text-center">
            <div class="container d-flex align-items-center flex-column">
                <!-- Masthead Avatar Image-->
                <img class="masthead-avatar mb-5" src="img/logo.png" alt="logo" />
                <!-- Masthead Heading-->
                <h1 class="masthead-heading text-uppercase mb-0">PWA</h1>
                <!-- Icon Divider-->
                <div class="divider-custom divider-light">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="	fas fa-gem"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <!-- Masthead Subheading-->
                <p class="masthead-subheading font-weight-light mb-0">Progressive Web App - Student's project</p>
            </div>
        </header>
		
        <!-- Geolocation Section-->
        <section class="page-section portfolio" id="Geolocation">
            <div class="container">
                <!-- Geolocation Section Heading-->
                <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Geolocation</h2>
                <!-- Icon Divider-->
                <div class="divider-custom">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-globe-americas"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <!-- Geolocation Grid Items-->
                
				<div id="map"></div>
					<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
					integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
					crossorigin=""></script>
					<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
					<script>
						var map_init = L.map('map', {
							center: [50.06988997898041, 19.955011147403724],
							zoom: 8
						});
						var osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
							attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
						}).addTo(map_init);
						L.Control.geocoder().addTo(map_init);
						if (!navigator.geolocation) {
							console.log("Your browser doesn't support geolocation feature!")
						} else {
							setInterval(() => {
								navigator.geolocation.getCurrentPosition(getPosition)
							}, 5000);
						};
						var marker, circle, lat, long, accuracy;

						function getPosition(position) {
							// console.log(position)
							lat = position.coords.latitude
							long = position.coords.longitude
							accuracy = position.coords.accuracy

							if (marker) {
								map_init.removeLayer(marker)
							}

							if (circle) {
								map_init.removeLayer(circle)
							}

							marker = L.marker([lat, long])
							circle = L.circle([lat, long], { radius: accuracy })

							var featureGroup = L.featureGroup([marker, circle]).addTo(map_init)

							map_init.fitBounds(featureGroup.getBounds())

							console.log("Your coordinate is: Lat: " + lat + " Long: " + long + " Accuracy: " + accuracy)
						}
					</script>
						
            </div>
        </section>
		
        <!-- S-O-S Section-->
        <section class="page-section bg-primary text-white mb-0" id="S-O-S">
            <div class="container">
                <!-- S-O-S Section Heading-->
                <h2 class="page-section-heading text-center text-uppercase text-white">S-O-S</h2>
                <!-- Icon Divider-->
                <div class="divider-custom divider-light">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fa fa-medkit"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <!-- S-O-S Section Content-->
				
				<div class="row">
                    <div class="col-md-6 col-xs-12 col-sm-12 text-align:justify"><p class="lead">In Morse code SOS signified by three dots, three dashes, then three dots  (· · · – – – · · ·). SOS was chosen because it could not be misinterpreted as being a message for anything else. It’s a series of attention-grabbing and easily understandable letters that create a universal code.</p></div>
					<div class="col-md-6 col-xs-12 col-sm-12 text-align:justify"><p class="lead">Simply, SOS was chosen as a distress signal because it was easy to understand in Morse code and not likely to be confused with other signals. It also has the added benefit of being a palindrome, a series of letters that reads the same backwards and forwards. In addition, SOS looks the same upside down as it does right side up, making it an ideal series of letters to view from the air if written on a beach or in the snow.</p></div>                    
				</div>
                <!-- S-O-S Section Button-->
                <div class="text-center mt-4">
					<button class="btn btn-xl btn-outline-light" id="vibrate" onclick="vibrate()">S-O-S</button>
                </div>
				<script>
					function vibrate(){
						if(navigator){
							navigator.vibrate([100,30,100,30,100,30,200,30,200,30,200,30,100,30,100,30,100])
						}
					}
				</script>
            </div>
        </section>
		
        <!-- About Section-->
        <section class="page-section" id="About">
            <div class="container">
                <!-- About Section Heading-->
                <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">About</h2>
                <!-- Icon Divider-->
                <div class="divider-custom">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-info-circle"></i></div>
                    <div class="divider-custom-line"></div>
                </div>		
                <div class="row">
                    <div class="col-md-6 col-xs-12 col-sm-12 text-align:justify"><p class="lead">The authors of the application are Krystian Stec (#216670), Przemysław Jaworski (#216167) and Danila Ispolatov (#208772) - 3rd year students of Applied Computer Science at the Cracow University of Economics. The application was made as part of the Mobile Systems Programming subject. </p></div>
					<div class="col-md-6 col-xs-12 col-sm-12 text-align:justify"><p class="lead">This application is an example of a PWA - Progressive web application - a web application that runs like a regular website, but allows you to create the impression of operating like a native mobile application. PWA can be installed, then it can have its own icon on the desktop and be independent of the browser.</p></div>          
			   </div>
            </div>
        </section>
		
        <!-- Copyright Section-->
        <div class="copyright py-4 text-center text-white">
            <div class="container"><small>Copyright &copy; Progressive Web App - Student's project 2022</small></div>
        </div>
		
		
		<!-- Service worker registration -->
		<script type="text/javascript">
		  if (navigator.serviceWorker.controller) {
			console.log('[PWA Builder] active service worker found, no need to register')
		  } else {
			//Register the ServiceWorker
			navigator.serviceWorker.register('pwabuilder-sw.js', {
			  scope: './'
			}).then(function(reg) {
			  console.log('Service worker has been registered for scope:'+ reg.scope);
			});
		  }
		</script>
			
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <!-- * *                               SB Forms JS                               * *-->
        <!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
    </body>
</html>
